<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Chrono Odyssey | Início</title>
  <link rel="stylesheet" href="./Css/estilo.css" />
  <link rel="stylesheet" href="./Css/index.css">
  <script src="./Js/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="shortcut icon" href="./Assets/favicon_chrono_odyssey.png" type="image/x-icon">
</head>

<body window.onload=validEnquete();verGrafico()>
  <!-- Menu superior -->
  <div id="drop_menu">
    <div class="drop_menu_container">
      <div class="box1">
        <div class="conjunto1"></div>
        <div class="conjunto2">
          <p>Site elaborado e desenvolvido por Jonathan Gilber durante o projeto de avaliação individual SPTech, usando
            técnicas e práticas ensinadas ao longo do primeiro semestre de ADS.
          </p>
        </div>
      </div>

      <div class="box2">
        <div class="div_projetos">OUTROS PROJETOS</div>
        <button>ACCLIMATE</button>
        <button>SUNBEAN</button>
        <button>TRIPPIE REDD</button>
        <button>SHXP LIFE</button>
      </div>

      <div class="box3">
        <div class="conjunto1"></div>
        <div class="conjunto2">
          <p id="p_titulo">Shxp Life</p>
          <p>A Shxp Life é uma loja de roupas e acessórios inaugurada em 2019, pensada e desenvolvida para os amantes de
            streetwear, skate e esportes em geral.
          </p>
        </div>
      </div>

      <div class="box4">
        <div class="conjunto1"></div>
        <div class="conjunto2">
          <p id="p_titulo">Sunbean</p>
          <p>A sunbean é uma empresa de tecnologia e soluções agropecuárias, que visa implementar sistemas para capturar
            e gerenciar os dados de umidade e temperatura de suas plantações.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Navbar -->
  <div id="id_navbar" class="overlay_navbar">
    <!-- Bloco esquerdo -->
    <div id="navbar_blocoEsq">
      <img id="assinatura" src="./assets/Assinatura.png" />
      <button id="btn_down_arrow" onclick="toggle()">
        <img id="down_arrow_img" src="./Assets/down_arrow.png" />
      </button>
      <button id="btn_historia" class="btn_navbar" onclick="ancoraConteudo()">HISTÓRIA</button>
      <button class="btn_navbar" onclick="galeria_midia()">MÍDIA</button>
      <button class="btn_navbar" onclick="ancoraEnquete()">ENQUETE</button>
    </div>

    <!-- Bloco direito -->
    <div id="navbar_blocoDir">
      <button id="btn_iniciar" class="btn_navbar" onclick="popup_login()">INICIAR SESSÃO</button>
      <button id="btn_juntar" onclick="window.location.href='cadastro.html'">JUNTAR-SE</button>
      <span id="nome_session"></span>
      <button onclick="deslogar()" id="btn_sair">SAIR →</button>
    </div>
  </div>

  <!-- Hero -->
  <div class="hero">
    <video class="videoBackground" autoplay muted loop>
      <source src="./Assets/video1_background.mp4" type="video/mp4" />
    </video>

    <div class="overlay_container">
      <div class="overlay_conteudo">
        <div id="logo_container">
          <img id="logo_CO" src="./Assets/logo_chrono_odyssey.png">
          <span id="texto_logo">Um mundo onde tudo pode acontecer</span>
          <button id="btn_saiba_mais" onclick="ancoraConteudo()">SAIBA MAIS</button>
        </div>
      </div>

      <audio id="myAudio">
        <source src="./Assets/Index_Audio.mp3" type="audio/mpeg">
      </audio>

      <div onclick="toggleMusica()" id="btn_play"><img id="play_img" src="./Assets/play_icon.png"><span
          id="texto_play">TOCAR
          MÚSICA<span>
      </div>
    </div>
  </div>

  <!-- conteúdo principal -->
  <div class="conteudo_principal">
    <div id="conteudo_container">
      <div id="conteudo_overlay"></div>
      <div id="conteudo1" class="conteudo_container1">
        <p class="conteudo_titulo">Explore lugares épicos</p>
        <p class="conteudo_corpo">Explore templos escondidos nas profundezas de
          Florestas, lar de druidas - ou covil de dragões! Embrenhe-se em cavernas repletas de armadilhas, onde
          Esqueletos de aventureiros misturam-se a tesouros ancestrais! Defenda um castelo de hordas invasores, ou
          Ataque-o e conquiste-o para sua própria glória!</p>
      </div>

      <div id="conteudo2" class="conteudo_container2">
        <p class="conteudo_titulo">Viaje pelo mundo</p>
        <p class="conteudo_corpo">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nam odio facilis tempore
          earum nisi quo suscipit, ad non sint iusto deserunt, quam quaerat labore delectus amet iste consequatur,
          exercitationem ab.</p>
      </div>

      <div id="conteudo3" class="conteudo_container3">
        <p class="conteudo_titulo">VOCÊ É BRAVO O SUFICIENTE?</p>
      </div>
    </div>
  </div>

  <!-- Galeria de Midias -->
  <div class="galeria_texto_div">
    <span id="ancora_galeria">.</span>
    <p class="galeria_texto">CONTEÚDO EXCLUSIVO</p>
    <p class="galeria_texto2">ASSISTA, VEJA, SINTA</p>
  </div>
  <div class="container_galeria">
    <div id="imagem_atual" class="frame_principal"></div>
    <div class="frames_secundarios">
      <div id="container1">
        <div onclick="frame_principal(id)" id="c1f1"></div>
        <div onclick="frame_principal(id)" id="c1f2"></div>
      </div>

      <div id="container2">
        <div onclick="frame_principal(id)" id="c2f1"></div>
        <div onclick="frame_principal(id)" id="c2f2"></div>
      </div>

      <div id="container3">
        <div onclick="frame_principal(id)" id="c3f1"></div>
        <div onclick="frame_principal(id)" id="c3f2"></div>
      </div>

      <div id="container4">
        <div onclick="frame_principal(id)" id="c4f1"></div>
        <div onclick="frame_principal(id)" id="c4f2"></div>
      </div>
    </div>
  </div>

  <!-- Enquete -->
  <div id="ancora_enquete" class="enquete">
    <!-- Bloqueio da enquete caso o usuário não esteja logado -->
    <div id="bloqueio_enquete">
      <div class="bloqueio_container">
        <h1>Você deve estar logado<br>para participar dessa pesquisa</p>
          <p class="texto_secundario_bloqueio">você pode entrar pelo botão abaixo<br>ou criar uma nova conta</p>
          <button id="bloqueio_iniciar" class="btn_bloqueio" onclick="popup_login()">INICIAR SESSÃO</button><br>
          <a href="./cadastro.html"><button class="btn_bloqueio">JUNTAR-SE</button></a>
      </div>
    </div>

    <!-- bloco esquerdo -->
    <div id="bloqueio_leftbox" class="leftbox">
      <div class="container">
        <img id="assinatura_monocromatica" src="./assets/Assinatura.png" />
      </div>
      <div class="container2"></div>
      <div class="container3">
        <p id="texto_left">Tem um momento?</p>
        <p id="texto_left2">Ajude-nos com essa pesquisa</p>
      </div>
    </div>

    <!-- bloco direito -->
    <div id="bloqueio_rightbox" class="rightbox">
      <div class="rightbox_container">
        <div id="votacao">
          <div class="rb_container1">
            <p class="texto_enquete">ENQUETE</p>
            <p class="texto_enquete2">O QUE MAIS TE ATRAI EM CHRONO ODYSSEY?</p>
          </div>

          <div class="rb_container2">
            <form>
              <label for="form_graficos">
                <input type="radio" id="form_graficos" name="tela1" value="1">
                <span>Gráficos</span>
              </label><br>

              <label for="form_jogabilidade">
                <input type="radio" id="form_jogabilidade" name="tela1" value="2">
                <span>Jogabilidade</span>
              </label><br>

              <label for="form_historia">
                <input type="radio" id="form_historia" name="tela1" value="3">
                <span>História</span>
              </label><br>

              <label for="form_combate">
                <input type="radio" id="form_combate" name="tela1" value="4">
                <span>Combate</span>
              </label>
            </form>
          </div>

          <div class="rb_container3">
            <button class="btn_votar" onclick="votar();verGrafico()">Votar⠀✓</button>
            <span id="span_voto"></span>
          </div>
        </div>

        <!-- Chart JS -->
        <div id="div_chartjs">
          <div class="chart_container">
            <p id="texto_chart1"></p>
            <p id="texto_chart2"></p>
          </div>
          <canvas id="myChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Contagem Regressiva -->
  <div class="contador">
    <p id="contagem_texto">Lançamento em</p>
    <p id="demo"></p>
    <a href="https://store.steampowered.com/?l=portuguese" target="_blank"><button id="btn_adquira">ADQUIRA
        JÁ</button></a>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="container1">
      <a target="_blank" href="https://twitter.com" class="a_icones"><img class="icones"
          src="./Assets/Twitter.png" /></a>
      <a target="_blank" href="https://facebook.com" class="a_icones"><img class="icones"
          src="./Assets/Facebook.png" /></a>
      <a target="_blank" href="https://instagram.com" class="a_icones"><img class="icones"
          src="./Assets/Instagram.png" /></a>
      <a target="_blank" href="https://linkedin.com" class="a_icones"><img class="icones"
          src="./Assets/Linkedin.png" /></a>
    </div>

    <div class="container2">
      <img id="assinatura_footer" src="./Assets/Assinatura_cinza.png">
    </div>

    <div class="container3">
      <p id="texto1_footer">Este site foi desenvolvido durante o projeto de avaliação individual, requisitado pela
        SPTech School e desenvolvido com amor por um aluno. © 2022 Jonathan Gilber, Co.</p>
    </div>

    <div class="container4">
      <a class="texto2_footer">POLÍTICA DE PRIVACIDADE</a>
      <a class="texto2_footer">TERMOS DE USO</a>
      <a class="texto2_footer">PREFERÊNCIA DE COOKIES</a>
    </div>
  </div>

  <!-- Tela de login (display none) -->
  <div id="div_login">
    <div class="conteudo_login">
      <div class="box">
        <div id="btn_fechar_login" onclick="fechar_popup_login()">X</div>

        <div class="box_container">
          <div id="login_center">
            <p id='texto_bemvindo'>BEM VINDO(A) DE VOLTA</p>
            <p id='texto_login'>Entrar na sua conta</p>
          </div>

          <div>
            <p class="texto_inputs">E-mail</p>
            <input id="input_email_login" class="input_texto" type="text" placeholder="Exemplo@hotmail.com" />
          </div>

          <div class="senha">
            <p class="texto_inputs">Senha</p>
            <input id="input_senha_login" class="input_texto" type="password" placeholder="Inserir Senha" />
          </div>

          <div id="validacao">
            <span id="span_validacao"></span>
            <img id="span_gif" src="https://c.tenor.com/I6kN-6X7nhAAAAAi/loading-buffering.gif">
          </div>

          <div class="LembrarUsuario_EsqueceuSenha">
            <span id="span_lembrarUsuario"><input type="checkbox"> Lembrar Usuário</span>
            <span id="span_esqueceuSenha"><a id="esqueceu_senha" href="#">Esqueceu sua senha?</a></span>
          </div>

          <div>
            <button id="btn_entrar" onclick="validLogin()">Entrar</button>
          </div>

          <div class="div_cadastrar">
            <p id="nao_possui_conta">Não possui uma conta ainda?</p> <a href="cadastro.html" id="a_cadastrar">Faça parte
              da jornada →</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button onclick="topFunction()" id="ScrollUp">↑</button>

</body>

</html>

<script>

  var valores = [];

  function verGrafico() {
    fetch("/usuarios/pegar-votos")
      .then(function (resultado) {
        resultado.json()
          .then(function (json) {
            console.log(json);


            for (var i = 0; i < json.length; i++) {
              valores.push(json[i].qtdVotos)
            }

            console.log(valores);
          })
          .catch(function (erro) {
            console.error(erro);
          })
      })
      .catch(function (erro) {
        console.error(erro);
      });

      setTimeout(() => {
        const labels = [
        'Gráfico',
        'Jogabilidade',
        'História',
        'Combate',
      ];

      const data = {
        labels: labels,
        datasets: [{
          label: 'O que mais te atrai em Chrono Odyssey?',
          backgroundColor: '#6c8a99',
          borderColor: '#202020',
          //data: [valores[0], valores[1], valores[2], valores[3]],
          data: [valores[0], valores[1], valores[2], valores[3]],
        }]
      };

      const config = {
        type: 'bar',
        data: data,
        options: {}
      };

      const myChart = new Chart(
        document.getElementById('myChart'),
        config
      )
      }, 1000)
  }
</script>